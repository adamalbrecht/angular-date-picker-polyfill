(function(){angular.module("angular-date-picker-polyfill",[])}).call(this),function(){angular.module("angular-date-picker-polyfill").directive("aaCalendar",["aaMonthUtil","aaDateUtil","$filter",function(n,t){return{restrict:"A",replace:!0,require:"^ngModel",link:function(a,e,r,o){var l,u;return a.dayAbbreviations=["S","M","T","W","R","F","S"],a.monthArray=[[]],a.monthDate=null,a.selected=null,o.$render=function(){return a.selected=o.$viewValue,l(),u()},l=function(){var n;return n=angular.isDate(o.$viewValue)?angular.copy(o.$viewValue):new Date,n.setDate(1),a.monthDate=n},u=function(){return a.monthArray=n.generateMonthArray(a.monthDate.getFullYear(),a.monthDate.getMonth(),o.$viewValue)},a.setDate=function(n){return o.$setViewValue(n),t.dateObjectsAreEqualToMonth(n,a.monthDate)||l(),u()},a.setToToday=function(){return a.setDate(new Date)},a.incrementMonths=function(n){return a.monthDate.setMonth(a.monthDate.getMonth()+n),u()}},template:"<div class='aa-cal'>\n  <div class='aa-cal-controls'>\n    <span ng-click='incrementMonths(-12)' class='aa-cal-btn aa-cal-prev-year'></span>\n    <span ng-click='incrementMonths(-1)' class='aa-cal-btn aa-cal-prev-month'></span>\n    <span ng-click='setToToday()' class='aa-cal-btn aa-cal-set-to-today'></span>\n    <strong class='aa-cal-month-name' ng-bind=\"monthDate | date:'MMMM yyyy'\"></strong>\n    <span ng-click='incrementMonths(12)' class='aa-cal-btn aa-cal-next-year'></span>\n    <span ng-click='incrementMonths(1)' class='aa-cal-btn aa-cal-next-month'></span>\n  </div>\n  <table class='aa-cal-month'>\n    <thead>\n      <tr><th ng-repeat='abbr in ::dayAbbreviations track by $index' ng-bind='abbr'></th></tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat='week in monthArray'>\n        <td\n          ng-repeat='day in week'\n          ng-class=\"{'aa-cal-today': day.isToday, 'aa-cal-other-month': day.isOtherMonth, 'aa-cal-selected': day.isSelected, 'aa-cal-disabled': day.isDisabled}\"\n          ng-click='setDate(day.date)'>\n            <span ng-bind=\"day.date | date:'d'\"></span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>"}}])}.call(this),function(){angular.module("angular-date-picker-polyfill").factory("aaDateUtil",function(){return{dateObjectsAreEqualToDay:function(n,t){return angular.isDate(n)&&angular.isDate(t)?n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate():!1},dateObjectsAreEqualToMonth:function(n,t){return angular.isDate(n)&&angular.isDate(t)?n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth():!1},convertToDate:function(n){var t;return angular.isDate(n)?n:(t=Date.parse(n),angular.isDate(t)?t:null)}}})}.call(this),function(){angular.module("angular-date-picker-polyfill").directive("aaDatepickerInput",["$compile","aaDateUtil",function(n,t){return{restrict:"A",require:"^ngModel",scope:{ngModel:"="},link:function(a,e,r,o){var l,u,i,c,s,d;return u=function(){return l(),d(),s(),"INPUT"!==e.prop("tagName")||"date"!==r.type?(i(),c()):void 0},c=function(){return o.$formatters.unshift(t.convertToDate),o.$validators.date=function(n,t){return angular.isDate(t)}},l=function(){var t,r,o;return e.wrap("<div class='aa-date-input'></div>"),o="<div class='aa-datepicker-popup' data-ng-show='isOpen'>\n  <div class='aa-datepicker-popup-close' data-ng-click='closePopup()'></div>\n  <div data-aa-calendar ng-model='ngModel'></div>\n</div>",r=angular.element(o),t=n(r)(a),e.after(t)},s=function(){var n,t,r;return r=!1,e.on("focus",function(){return a.isOpen?void 0:a.$apply(function(){return a.openPopup()})}),n=e.parent(),n.on("mousedown",function(){return r=!0,setTimeout(function(){return r=!1},100)}),e.on("blur",function(){return a.isOpen&&!r?a.$apply(function(){return a.closePopup()}):void 0}),t=function(){return a.isOpen&&!r?a.$apply(function(){return a.closePopup()}):void 0},angular.element(window.document).on("mousedown",t),a.$on("$destroy",function(){return e.off("focus"),e.off("blur"),n.off("mousedown"),document.off("mousedown",t)})},i=function(){return e.on("click",function(){return a.isOpen?void 0:a.$apply(function(){return a.openPopup()})}),a.$on("$destroy",function(){return e.off("click")})},d=function(){return a.openPopup=function(){return a.isOpen=!0},a.closePopup=function(){return a.isOpen=!1}},u()}}}])}.call(this),function(){angular.module("angular-date-picker-polyfill").factory("aaMonthUtil",["aaDateUtil",function(n){return{numberOfDaysInMonth:function(n,t){return[31,n%4===0&&n%100!==0||n%400===0?29:28,31,30,31,30,31,31,30,31,30,31][t]},generateMonthArray:function(t,a,e){var r,o,l,u,i,c,s,d,p;for(null==e&&(e=null),o=new Date(t,a,1),s=new Date,u=new Date(t,a,this.numberOfDaysInMonth(t,a)),c=o.getDay(),o.setDate(o.getDate()+-1*c),r=[],d=0;u>=o;){for(r.push([]),l=p=0;6>=p;l=++p)i={date:angular.copy(o),isToday:n.dateObjectsAreEqualToDay(o,s),isSelected:e&&n.dateObjectsAreEqualToDay(o,e)?!0:!1,isOtherMonth:o.getMonth()!==a},r[d].push(i),o.setDate(o.getDate()+1);d+=1}return r}}}])}.call(this);