(function(){angular.module("angular-date-picker-polyfill",[])}).call(this),function(){angular.module("angular-date-picker-polyfill").directive("aaCalendar",["aaMonthUtil","aaDateUtil","$filter",function(n,e){return{restrict:"A",replace:!0,require:"ngModel",scope:{},link:function(t,a,r,u){var o,i;return t.dayAbbreviations=["Su","M","T","W","R","F","S"],t.monthArray=[[]],t.monthDate=null,t.selected=null,u.$render=function(){return t.selected=u.$viewValue,o(),i()},o=function(){var n;return n=angular.isDate(u.$viewValue)?angular.copy(u.$viewValue):new Date,n.setDate(1),t.monthDate=n},i=function(){return t.monthArray=n.generateMonthArray(t.monthDate.getFullYear(),t.monthDate.getMonth(),u.$viewValue)},t.setDate=function(n){var a;return a=angular.isDate(u.$viewValue)?angular.copy(u.$viewValue):new Date,a.setYear(n.getFullYear()),a.setMonth(n.getMonth()),a.setDate(n.getDate()),u.$setViewValue(a),e.dateObjectsAreEqualToMonth(n,t.monthDate)||o(),i(),t.$emit("aa:calendar:set-date")},t.setToToday=function(){return t.setDate(new Date)},t.incrementMonths=function(n){return t.monthDate.setMonth(t.monthDate.getMonth()+n),i()}},template:"<div class='aa-cal'>\n  <div class='aa-cal-controls'>\n    <span ng-click='incrementMonths(-12)' class='aa-cal-btn aa-cal-prev-year'></span>\n    <span ng-click='incrementMonths(-1)' class='aa-cal-btn aa-cal-prev-month'></span>\n    <span ng-click='setToToday()' class='aa-cal-btn aa-cal-set-to-today'></span>\n    <strong class='aa-cal-month-name' ng-bind=\"monthDate | date:'MMMM yyyy'\"></strong>\n    <span ng-click='incrementMonths(12)' class='aa-cal-btn aa-cal-next-year'></span>\n    <span ng-click='incrementMonths(1)' class='aa-cal-btn aa-cal-next-month'></span>\n  </div>\n  <table class='aa-cal-month'>\n    <thead>\n      <tr><th ng-repeat='abbr in ::dayAbbreviations track by $index' ng-bind='abbr'></th></tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat='week in monthArray'>\n        <td\n          ng-repeat='day in week'\n          ng-class=\"{'aa-cal-today': day.isToday, 'aa-cal-other-month': day.isOtherMonth, 'aa-cal-selected': day.isSelected, 'aa-cal-disabled': day.isDisabled}\"\n          ng-click='setDate(day.date)'>\n            <span ng-bind=\"day.date | date:'d'\"></span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>"}}])}.call(this),function(){angular.module("angular-date-picker-polyfill").factory("aaDateUtil",function(){return{dateObjectsAreEqualToDay:function(n,e){return angular.isDate(n)&&angular.isDate(e)?n.getFullYear()===e.getFullYear()&&n.getMonth()===e.getMonth()&&n.getDate()===e.getDate():!1},dateObjectsAreEqualToMonth:function(n,e){return angular.isDate(n)&&angular.isDate(e)?n.getFullYear()===e.getFullYear()&&n.getMonth()===e.getMonth():!1},convertToDate:function(n){var e;return angular.isDate(n)?n:(e=Date.parse(n),angular.isDate(e)?e:null)},todayStart:function(){var n;return n=new Date,n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),n}}})}.call(this),function(){var n;n=function(n,e,t,a,r,u){var o,i,l,c,s,d;return i=function(){return o(),d(),s(),"INPUT"!==e.prop("tagName")||"date"!==t.type?(l(),c()):void 0},c=function(){return a.$formatters.unshift(u.convertToDate),a.$validators.date=function(n,e){return angular.isDate(e)}},o=function(){var t,a,u;return e.wrap("<div class='aa-date-input'></div>"),u="<div class='aa-datepicker-popup' data-ng-show='isOpen'>\n  <div class='aa-datepicker-popup-close' data-ng-click='closePopup()'></div>\n  <div data-aa-calendar ng-model='ngModel'></div>\n</div>",a=angular.element(u),t=r(a)(n),e.after(t)},s=function(){var t,a,r;return n.$on("aa:calendar:set-date",function(){return n.closePopup()}),r=!1,e.on("focus",function(){return n.isOpen?void 0:n.$apply(function(){return n.openPopup()})}),t=e.parent(),t.on("mousedown",function(){return r=!0,setTimeout(function(){return r=!1},100)}),e.on("blur",function(){return n.isOpen&&!r?n.$apply(function(){return n.closePopup()}):void 0}),a=function(){return n.isOpen&&!r?n.$apply(function(){return n.closePopup()}):void 0},angular.element(window.document).on("mousedown",a),n.$on("$destroy",function(){return e.off("focus"),e.off("blur"),t.off("mousedown"),document.off("mousedown",a)})},l=function(){return e.on("click",function(){return n.isOpen?void 0:n.$apply(function(){return n.openPopup()})}),n.$on("$destroy",function(){return e.off("click")})},d=function(){return n.openPopup=function(){return n.isOpen=!0},n.closePopup=function(){return n.isOpen=!1}},i()},angular.module("angular-date-picker-polyfill").directive("aaDateInput",["$compile","aaDateUtil",function(e,t){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function(a,r,u,o){return n(a,r,u,o,e,t)}}}]),Modernizr.inputtypes.date||angular.module("angular-date-picker-polyfill").directive("input",["$compile","aaDateUtil",function(e,t){return{restrict:"E",require:"?ngModel",scope:{ngModel:"="},compile:function(a,r){return"date"===r.type&&r.ngModel?function(a,r,u,o){return n(a,r,u,o,e,t)}:void 0}}}])}.call(this),function(){angular.module("angular-date-picker-polyfill").factory("aaMonthUtil",["aaDateUtil",function(n){return{numberOfDaysInMonth:function(n,e){return[31,n%4===0&&n%100!==0||n%400===0?29:28,31,30,31,30,31,31,30,31,30,31][e]},generateMonthArray:function(e,t,a){var r,u,o,i,l,c,s,d,p;for(null==a&&(a=null),u=new Date(e,t,1),s=new Date,i=new Date(e,t,this.numberOfDaysInMonth(e,t)),c=u.getDay(),u.setDate(u.getDate()+-1*c),r=[],d=0;i>=u;){for(r.push([]),o=p=0;6>=p;o=++p)l={date:angular.copy(u),isToday:n.dateObjectsAreEqualToDay(u,s),isSelected:a&&n.dateObjectsAreEqualToDay(u,a)?!0:!1,isOtherMonth:u.getMonth()!==t},r[d].push(l),u.setDate(u.getDate()+1);d+=1}return r}}}])}.call(this),function(){angular.module("angular-date-picker-polyfill").factory("aaTimeUtil",function(){return{getMinuteAndHourFromDate:function(n,e){var t,a,r;if(null==e&&(e=!0),!angular.isDate(n))return null;if(a=n.getHours(),t=null,e)switch(!1){case 0!==a:a=12,t="AM";break;case 12!==a:t="PM";break;case!(a>12):a-=12,t="PM"}return r=n.getMinutes(),[a,r,t]},applyTimeValuesToDateObject:function(n,e){var t,a,r;return a=n[0],r=n[1],t=n[2],e.setMinutes(r),e.setHours("AM"===t?12===a?0:a:"PM"===t&&12===a?12:"PM"===t&&12!==a?a+12:a),e}}})}.call(this),function(){angular.module("angular-date-picker-polyfill").directive("aaTimepicker",["aaTimeUtil","aaDateUtil",function(n,e){return{restrict:"A",replace:!0,require:"ngModel",scope:{},link:function(t,a,r,u){var o,i,l,c;return o=function(){return c(),l()},c=function(){var n,e,a,u;return t.useAmPm=null!=r.useAmPm?r.useAmPm===!0||"true"===r.useAmPm:!0,t.hourOptions=t.useAmPm?[1,2,3,4,5,6,7,8,9,10,11,12]:function(){for(a=[],n=0;23>=n;n++)a.push(n);return a}.apply(this),t.minuteOptions=function(){for(u=[],e=0;59>=e;e++)u.push(e);return u}.apply(this),t.amPmOptions=["AM","PM"]},l=function(){return t.hour=null,t.minute=null,t.amPm=null},u.$render=function(){return i()},i=function(){var e,a;return angular.isDate(u.$viewValue)?(e=angular.copy(u.$viewValue),a=n.getMinuteAndHourFromDate(e,t.useAmPm),t.hour=a[0],t.minute=a[1],t.amPm=a[2],a):l()},t.setTimeFromFields=function(){var a;return null!=t.hour&&null==t.minute&&(t.minute=0),null!=t.hour&&t.useAmPm&&null==t.amPm&&(t.amPm="AM"),null==t.hour||null==t.minute||t.useAmPm&&null==t.amPm?void 0:(a=null!=u.$viewValue&&angular.isDate(u.$viewValue)?new Date(u.$viewValue):e.todayStart(),n.applyTimeValuesToDateObject([t.hour,parseInt(t.minute),t.amPm],a),u.$setViewValue(a))},o()},template:"<div class='aa-timepicker'>\n  <select\n    class='aa-timepicker-hour'\n    ng-model='hour'\n    ng-options='hour as hour for hour in ::hourOptions'\n    ng-change='setTimeFromFields()'>\n  </select>\n  <select\n    class='aa-timepicker-minute'\n    ng-model='minute'\n    ng-options=\"min as ((min < 10) ? ('0' + min) : ('' + min)) for min in ::minuteOptions\"\n    ng-change='setTimeFromFields()'>\n  </select>\n  <select\n    class='aa-timepicker-ampm'\n    ng-show='useAmPm'\n    ng-model='amPm'\n    ng-options='v for v in ::amPmOptions'\n    ng-change='setTimeFromFields()'>\n  </select>\n</div>"}}])}.call(this);