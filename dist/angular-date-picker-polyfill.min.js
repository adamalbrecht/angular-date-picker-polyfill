(function(){angular.module("angular-date-picker-polyfill",[])}).call(this),function(){angular.module("angular-date-picker-polyfill").directive("aaCalendar",["aaMonthUtil","aaDateUtil","$filter",function(n,t){return{restrict:"A",replace:!0,require:"ngModel",link:function(e,a,r,o){var l,u;return e.dayAbbreviations=["Su","M","T","W","R","F","S"],e.monthArray=[[]],e.monthDate=null,e.selected=null,o.$render=function(){return e.selected=o.$viewValue,l(),u()},l=function(){var n;return n=angular.isDate(o.$viewValue)?angular.copy(o.$viewValue):new Date,n.setDate(1),e.monthDate=n},u=function(){return e.monthArray=n.generateMonthArray(e.monthDate.getFullYear(),e.monthDate.getMonth(),o.$viewValue)},e.setDate=function(n){return o.$setViewValue(n),t.dateObjectsAreEqualToMonth(n,e.monthDate)||l(),u(),e.$emit("aa:calendar:set-date")},e.setToToday=function(){return e.setDate(new Date)},e.incrementMonths=function(n){return e.monthDate.setMonth(e.monthDate.getMonth()+n),u()}},template:"<div class='aa-cal'>\n  <div class='aa-cal-controls'>\n    <span ng-click='incrementMonths(-12)' class='aa-cal-btn aa-cal-prev-year'></span>\n    <span ng-click='incrementMonths(-1)' class='aa-cal-btn aa-cal-prev-month'></span>\n    <span ng-click='setToToday()' class='aa-cal-btn aa-cal-set-to-today'></span>\n    <strong class='aa-cal-month-name' ng-bind=\"monthDate | date:'MMMM yyyy'\"></strong>\n    <span ng-click='incrementMonths(12)' class='aa-cal-btn aa-cal-next-year'></span>\n    <span ng-click='incrementMonths(1)' class='aa-cal-btn aa-cal-next-month'></span>\n  </div>\n  <table class='aa-cal-month'>\n    <thead>\n      <tr><th ng-repeat='abbr in ::dayAbbreviations track by $index' ng-bind='abbr'></th></tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat='week in monthArray'>\n        <td\n          ng-repeat='day in week'\n          ng-class=\"{'aa-cal-today': day.isToday, 'aa-cal-other-month': day.isOtherMonth, 'aa-cal-selected': day.isSelected, 'aa-cal-disabled': day.isDisabled}\"\n          ng-click='setDate(day.date)'>\n            <span ng-bind=\"day.date | date:'d'\"></span>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>"}}])}.call(this),function(){angular.module("angular-date-picker-polyfill").factory("aaDateUtil",function(){return{dateObjectsAreEqualToDay:function(n,t){return angular.isDate(n)&&angular.isDate(t)?n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate():!1},dateObjectsAreEqualToMonth:function(n,t){return angular.isDate(n)&&angular.isDate(t)?n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth():!1},convertToDate:function(n){var t;return angular.isDate(n)?n:(t=Date.parse(n),angular.isDate(t)?t:null)}}})}.call(this),function(){var n;n=function(n,t,e,a,r,o){var l,u,i,c,s,d;return u=function(){return l(),d(),s(),"INPUT"!==t.prop("tagName")||"date"!==e.type?(i(),c()):void 0},c=function(){return a.$formatters.unshift(o.convertToDate),a.$validators.date=function(n,t){return angular.isDate(t)}},l=function(){var e,a,o;return t.wrap("<div class='aa-date-input'></div>"),o="<div class='aa-datepicker-popup' data-ng-show='isOpen'>\n  <div class='aa-datepicker-popup-close' data-ng-click='closePopup()'></div>\n  <div data-aa-calendar ng-model='ngModel'></div>\n</div>",a=angular.element(o),e=r(a)(n),t.after(e)},s=function(){var e,a,r;return n.$on("aa:calendar:set-date",function(){return n.closePopup()}),r=!1,t.on("focus",function(){return n.isOpen?void 0:n.$apply(function(){return n.openPopup()})}),e=t.parent(),e.on("mousedown",function(){return r=!0,setTimeout(function(){return r=!1},100)}),t.on("blur",function(){return n.isOpen&&!r?n.$apply(function(){return n.closePopup()}):void 0}),a=function(){return n.isOpen&&!r?n.$apply(function(){return n.closePopup()}):void 0},angular.element(window.document).on("mousedown",a),n.$on("$destroy",function(){return t.off("focus"),t.off("blur"),e.off("mousedown"),document.off("mousedown",a)})},i=function(){return t.on("click",function(){return n.isOpen?void 0:n.$apply(function(){return n.openPopup()})}),n.$on("$destroy",function(){return t.off("click")})},d=function(){return n.openPopup=function(){return n.isOpen=!0},n.closePopup=function(){return n.isOpen=!1}},u()},angular.module("angular-date-picker-polyfill").directive("aaDateInput",["$compile","aaDateUtil",function(t,e){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function(a,r,o,l){return n(a,r,o,l,t,e)}}}]),Modernizr.inputtypes.date||angular.module("angular-date-picker-polyfill").directive("input",["$compile","aaDateUtil",function(t,e){return{restrict:"E",require:"?ngModel",scope:{ngModel:"="},compile:function(a,r){return"date"===r.type&&r.ngModel?function(a,r,o,l){return n(a,r,o,l,t,e)}:void 0}}}])}.call(this),function(){angular.module("angular-date-picker-polyfill").factory("aaMonthUtil",["aaDateUtil",function(n){return{numberOfDaysInMonth:function(n,t){return[31,n%4===0&&n%100!==0||n%400===0?29:28,31,30,31,30,31,31,30,31,30,31][t]},generateMonthArray:function(t,e,a){var r,o,l,u,i,c,s,d,p;for(null==a&&(a=null),o=new Date(t,e,1),s=new Date,u=new Date(t,e,this.numberOfDaysInMonth(t,e)),c=o.getDay(),o.setDate(o.getDate()+-1*c),r=[],d=0;u>=o;){for(r.push([]),l=p=0;6>=p;l=++p)i={date:angular.copy(o),isToday:n.dateObjectsAreEqualToDay(o,s),isSelected:a&&n.dateObjectsAreEqualToDay(o,a)?!0:!1,isOtherMonth:o.getMonth()!==e},r[d].push(i),o.setDate(o.getDate()+1);d+=1}return r}}}])}.call(this);